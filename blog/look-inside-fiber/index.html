<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-ba2245e5aa333ad55c0d.js" as="script"/><link rel="preload" href="/component---src-templates-blog-post-template-js-91963a5ebc83d2729541.js" as="script"/><link rel="preload" href="/path---blog-look-inside-fiber-2143c1ae8765bc70c5aa.js" as="script"/><link rel="preload" href="/app-7cb9824a840bdb5e61da.js" as="script"/><link rel="preload" href="/commons-07c2af32ca21185d2521.js" as="script"/><style type="text/css" data-styled-components="bGfQDw iVHufg flMGHS hETFBV bOrPFB ikqKUj gAGSrG bPdAQD jvzENE gAfqEL kOOFmh DWwDi jOdmLg htrdqe ilyugh eUqphR" data-styled-components-is-local="true">/* sc-component-id: sc-bxivhb */

.gAGSrG{-webkit-transition:opacity 300ms 100ms;transition:opacity 300ms 100ms;opacity:0;}
/* sc-component-id: sc-ifAKCX */

.ikqKUj{-webkit-transition:color 1s,background-color 1s;transition:color 1s,background-color 1s;font-family:Work Sans,sans-serif;font-size:2rem;text-decoration:none;padding:0 0.8rem;color:#2c3e50;background:#FAFAFA;}@media (min-width:768px){.ikqKUj{background:transparent;}}
/* sc-component-id: sc-EHOje */

/* sc-component-id: sc-bZQynM */

/* sc-component-id: sc-gzVnrw */

.hETFBV{-webkit-letter-spacing:-0.16rem;-moz-letter-spacing:-0.16rem;-ms-letter-spacing:-0.16rem;letter-spacing:-0.16rem;margin-right:2.4rem;padding:0;background:transparent;}.hETFBV svg{height:4.8rem;}.hETFBV svg path{fill:#111;-webkit-transition:fill 300ms;transition:fill 300ms;}.hETFBV::before,.hETFBV::after{display:none;}
/* sc-component-id: sc-htoDjs */

.flMGHS{z-index:10;}
/* sc-component-id: sc-dnqmqq */

.bPdAQD{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media (max-width:767px){.bPdAQD{pointer-events:none;opacity:0;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:opacity 200ms;transition:opacity 200ms;position:absolute;top:calc(100% - 5px);right:0;}.bPdAQD > *{height:6.4rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0;height:6.4rem;padding:0 3.2rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:100vw;text-align:right;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform 200ms;-webkit-transition:transform 200ms;transition:transform 200ms;}.bPdAQD > *:nth-child(1){z-index:5;-webkit-transform:translateY(-32px);-ms-transform:translateY(-32px);transform:translateY(-32px);-webkit-transition-delay:100ms;transition-delay:100ms;}.bPdAQD > *:nth-child(2){z-index:4;-webkit-transform:translateY(-96px);-ms-transform:translateY(-96px);transform:translateY(-96px);-webkit-transition-delay:75ms;transition-delay:75ms;}.bPdAQD > *:nth-child(3){z-index:3;-webkit-transform:translateY(-160px);-ms-transform:translateY(-160px);transform:translateY(-160px);-webkit-transition-delay:50ms;transition-delay:50ms;}.bPdAQD > *:nth-child(4){z-index:2;-webkit-transform:translateY(-224px);-ms-transform:translateY(-224px);transform:translateY(-224px);-webkit-transition-delay:25ms;transition-delay:25ms;}}
/* sc-component-id: sc-iwsKbI */

.iVHufg{-webkit-transition:background 1s;transition:background 1s;height:calc(9rem - 2px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 2.4rem;width:100%;z-index:2;background-color:#FAFAFA;border-bottom:2px solid #f5f5f5;}@media (min-width:768px){.iVHufg{padding:0 3.2rem;}.iVHufg:not(:last-child){margin-right:2.4rem;}}
/* sc-component-id: sc-gZMcBi */

.DWwDi{box-sizing:border-box;margin-top:32px;}
/* sc-component-id: sc-jKJlTe */

.kOOFmh{min-height:4.8rem;margin:0;-webkit-letter-spacing:-0.16rem;-moz-letter-spacing:-0.16rem;-ms-letter-spacing:-0.16rem;letter-spacing:-0.16rem;color:#ecf0f1;display:inline-block;}.kOOFmh svg{height:4.8rem;}.kOOFmh path{fill:#ecf0f1;}
/* sc-component-id: sc-hMqMXs */

.gAfqEL{background:#090a0f;}.gAfqEL > *{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;color:#F2F2F2;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:3.2rem;}
/* sc-component-id: sc-kEYyzF */

.jOdmLg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
/* sc-component-id: sc-kkGfuU */

.htrdqe{text-decoration:none;opacity:0.9;-webkit-transition:opacity 200ms,-webkit-transform 200ms;-webkit-transition:opacity 200ms,transform 200ms;transition:opacity 200ms,transform 200ms;}.htrdqe:hover{opacity:1;-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}
/* sc-component-id: sc-iAyFgw */

.ilyugh{max-width:100%;max-height:100%;width:4.1rem;height:4.1rem;}
/* sc-component-id: sc-eHgmQL */

.eUqphR{margin:0;font-weight:300;font-size:1.8rem;-webkit-letter-spacing:-0.08rem;-moz-letter-spacing:-0.08rem;-ms-letter-spacing:-0.08rem;letter-spacing:-0.08rem;}
/* sc-component-id: sc-cvbbAY */

.bGfQDw{-webkit-transition:background 1s;transition:background 1s;background:#FAFAFA;font-family:Work Sans,sans-serif;min-width:32rem;overflow-x:hidden;}
</style><style type="text/css" data-styled-components="" data-styled-components-is-local="false">/* sc-component-id: sc-global-805569631 */
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}html{font-size:62.5%;margin:0;padding:0;}body{margin:0;padding:0;overflow-x:hidden;}a,a:link{text-decoration-skip:ink;}
</style><style type="text/css" data-styled-components="fdrAuA fCENgp CbmaL jxhahD evWLwy itltRQ gzpPfD eQYmiW eCWKKV" data-styled-components-is-local="true">/* sc-component-id: sc-jWBwVP */

.fdrAuA{background:#090a0f;min-height:calc(100vh - 21rem - 8.8rem);}
/* sc-component-id: sc-brqgnP */

.fCENgp{background:#FAFAFA;margin:0;font-size:1.8rem;color:#2c3e50;min-height:100vh;}
/* sc-component-id: sc-cMljjf */

.CbmaL{max-width:144rem;width:100%;max-height:60rem;margin:0 auto;}
/* sc-component-id: sc-jAaTju */

.evWLwy{font-family:Womby,sans-serif;text-align:center;color:#111;font-size:3.2rem;}@media (min-width:768px){.evWLwy{font-size:6.4rem;}}
/* sc-component-id: sc-jDwBTQ */

.gzpPfD{text-align:right;font-weight:300;}
/* sc-component-id: sc-gPEVay */

/* sc-component-id: sc-iRbamj */

.jxhahD{width:60em;max-width:100vw;line-height:1.4;margin:0 auto;}
/* sc-component-id: sc-jlyJG */

.itltRQ{width:50em;max-width:calc(100vw - 2em);margin:0 auto;}.itltRQ h2,.itltRQ h3,.itltRQ h4{color:#111;}.itltRQ p{margin:1em 0;font-weight:300;}.itltRQ a{color:#111;}.itltRQ em,.itltRQ strong{font-weight:500;}.itltRQ pre{margin:1em 0;}.itltRQ li{margin-top:0.5em;}.itltRQ blockquote{margin:2em;}@media (min-width:768px){.itltRQ blockquote{float:left;max-width:31.5rem;margin-left:0;margin-top:1em;}}@media (min-width:1366px){.itltRQ blockquote{margin-left:-5em;}}.itltRQ blockquote p{font-family:Womby,sans-serif;font-size:3.2rem;margin:0;}.itltRQ blockquote p:last-child{margin-top:1rem;font-size:1.6rem;}
/* sc-component-id: sc-Rmtcm */

.eCWKKV{margin-top:1em;margin-bottom:3em;}
</style><title data-react-helmet="true">A look inside React Fiber - Makers&#x27; Den blog</title><meta data-react-helmet="true" name="description" content="We are a software workshop. We solve gnarly problems to realise amazing ideas."/><meta data-react-helmet="true" name="keywords" content="software, consulting, full-stack, fullstack, development, berlin, deutschland, react, node.js, amazon web services, aws, scala, software house, agency"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" name="google-site-verification" content="VEd-YN0XIV4G-934e_RkML776hewBuI9UC0O-9IFOrQ"/><meta data-react-helmet="true" property="og:image" content="/static/ogImage.4e4f250f.png"/><script data-react-helmet="true" src="https://cdn.polyfill.io/v2/polyfill.min.js"></script><script data-react-helmet="true" src="https://polyfill.io/v2/polyfill.min.js?features=IntersectionObserver"></script><style id="gatsby-inlined-css">@import url(https://fonts.googleapis.com/css?family=Work+Sans:300,500);@font-face{font-family:Womby;src:url(/static/Womby-Regular.367e3d4c.eot);src:url(/static/Womby-Regular.367e3d4c.eot?#iefix) format("embedded-opentype"),url(/static/Womby-Regular.b7033dd9.woff2) format("woff2"),url(/static/Womby-Regular.d24f60de.ttf) format("truetype"),url(/static/Womby-Regular.0a185df5.woff) format("woff");font-weight:400;font-style:normal}[data-aos][data-aos][data-aos-duration="50"],body[data-aos-duration="50"] [data-aos]{transition-duration:50ms}[data-aos][data-aos][data-aos-delay="50"],body[data-aos-delay="50"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="50"].aos-animate,body[data-aos-delay="50"] [data-aos].aos-animate{transition-delay:50ms}[data-aos][data-aos][data-aos-duration="100"],body[data-aos-duration="100"] [data-aos]{transition-duration:.1s}[data-aos][data-aos][data-aos-delay="100"],body[data-aos-delay="100"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="100"].aos-animate,body[data-aos-delay="100"] [data-aos].aos-animate{transition-delay:.1s}[data-aos][data-aos][data-aos-duration="150"],body[data-aos-duration="150"] [data-aos]{transition-duration:.15s}[data-aos][data-aos][data-aos-delay="150"],body[data-aos-delay="150"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="150"].aos-animate,body[data-aos-delay="150"] [data-aos].aos-animate{transition-delay:.15s}[data-aos][data-aos][data-aos-duration="200"],body[data-aos-duration="200"] [data-aos]{transition-duration:.2s}[data-aos][data-aos][data-aos-delay="200"],body[data-aos-delay="200"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="200"].aos-animate,body[data-aos-delay="200"] [data-aos].aos-animate{transition-delay:.2s}[data-aos][data-aos][data-aos-duration="250"],body[data-aos-duration="250"] [data-aos]{transition-duration:.25s}[data-aos][data-aos][data-aos-delay="250"],body[data-aos-delay="250"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="250"].aos-animate,body[data-aos-delay="250"] [data-aos].aos-animate{transition-delay:.25s}[data-aos][data-aos][data-aos-duration="300"],body[data-aos-duration="300"] [data-aos]{transition-duration:.3s}[data-aos][data-aos][data-aos-delay="300"],body[data-aos-delay="300"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="300"].aos-animate,body[data-aos-delay="300"] [data-aos].aos-animate{transition-delay:.3s}[data-aos][data-aos][data-aos-duration="350"],body[data-aos-duration="350"] [data-aos]{transition-duration:.35s}[data-aos][data-aos][data-aos-delay="350"],body[data-aos-delay="350"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="350"].aos-animate,body[data-aos-delay="350"] [data-aos].aos-animate{transition-delay:.35s}[data-aos][data-aos][data-aos-duration="400"],body[data-aos-duration="400"] [data-aos]{transition-duration:.4s}[data-aos][data-aos][data-aos-delay="400"],body[data-aos-delay="400"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="400"].aos-animate,body[data-aos-delay="400"] [data-aos].aos-animate{transition-delay:.4s}[data-aos][data-aos][data-aos-duration="450"],body[data-aos-duration="450"] [data-aos]{transition-duration:.45s}[data-aos][data-aos][data-aos-delay="450"],body[data-aos-delay="450"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="450"].aos-animate,body[data-aos-delay="450"] [data-aos].aos-animate{transition-delay:.45s}[data-aos][data-aos][data-aos-duration="500"],body[data-aos-duration="500"] [data-aos]{transition-duration:.5s}[data-aos][data-aos][data-aos-delay="500"],body[data-aos-delay="500"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="500"].aos-animate,body[data-aos-delay="500"] [data-aos].aos-animate{transition-delay:.5s}[data-aos][data-aos][data-aos-duration="550"],body[data-aos-duration="550"] [data-aos]{transition-duration:.55s}[data-aos][data-aos][data-aos-delay="550"],body[data-aos-delay="550"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="550"].aos-animate,body[data-aos-delay="550"] [data-aos].aos-animate{transition-delay:.55s}[data-aos][data-aos][data-aos-duration="600"],body[data-aos-duration="600"] [data-aos]{transition-duration:.6s}[data-aos][data-aos][data-aos-delay="600"],body[data-aos-delay="600"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="600"].aos-animate,body[data-aos-delay="600"] [data-aos].aos-animate{transition-delay:.6s}[data-aos][data-aos][data-aos-duration="650"],body[data-aos-duration="650"] [data-aos]{transition-duration:.65s}[data-aos][data-aos][data-aos-delay="650"],body[data-aos-delay="650"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="650"].aos-animate,body[data-aos-delay="650"] [data-aos].aos-animate{transition-delay:.65s}[data-aos][data-aos][data-aos-duration="700"],body[data-aos-duration="700"] [data-aos]{transition-duration:.7s}[data-aos][data-aos][data-aos-delay="700"],body[data-aos-delay="700"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="700"].aos-animate,body[data-aos-delay="700"] [data-aos].aos-animate{transition-delay:.7s}[data-aos][data-aos][data-aos-duration="750"],body[data-aos-duration="750"] [data-aos]{transition-duration:.75s}[data-aos][data-aos][data-aos-delay="750"],body[data-aos-delay="750"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="750"].aos-animate,body[data-aos-delay="750"] [data-aos].aos-animate{transition-delay:.75s}[data-aos][data-aos][data-aos-duration="800"],body[data-aos-duration="800"] [data-aos]{transition-duration:.8s}[data-aos][data-aos][data-aos-delay="800"],body[data-aos-delay="800"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="800"].aos-animate,body[data-aos-delay="800"] [data-aos].aos-animate{transition-delay:.8s}[data-aos][data-aos][data-aos-duration="850"],body[data-aos-duration="850"] [data-aos]{transition-duration:.85s}[data-aos][data-aos][data-aos-delay="850"],body[data-aos-delay="850"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="850"].aos-animate,body[data-aos-delay="850"] [data-aos].aos-animate{transition-delay:.85s}[data-aos][data-aos][data-aos-duration="900"],body[data-aos-duration="900"] [data-aos]{transition-duration:.9s}[data-aos][data-aos][data-aos-delay="900"],body[data-aos-delay="900"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="900"].aos-animate,body[data-aos-delay="900"] [data-aos].aos-animate{transition-delay:.9s}[data-aos][data-aos][data-aos-duration="950"],body[data-aos-duration="950"] [data-aos]{transition-duration:.95s}[data-aos][data-aos][data-aos-delay="950"],body[data-aos-delay="950"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="950"].aos-animate,body[data-aos-delay="950"] [data-aos].aos-animate{transition-delay:.95s}[data-aos][data-aos][data-aos-duration="1000"],body[data-aos-duration="1000"] [data-aos]{transition-duration:1s}[data-aos][data-aos][data-aos-delay="1000"],body[data-aos-delay="1000"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1000"].aos-animate,body[data-aos-delay="1000"] [data-aos].aos-animate{transition-delay:1s}[data-aos][data-aos][data-aos-duration="1050"],body[data-aos-duration="1050"] [data-aos]{transition-duration:1.05s}[data-aos][data-aos][data-aos-delay="1050"],body[data-aos-delay="1050"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1050"].aos-animate,body[data-aos-delay="1050"] [data-aos].aos-animate{transition-delay:1.05s}[data-aos][data-aos][data-aos-duration="1100"],body[data-aos-duration="1100"] [data-aos]{transition-duration:1.1s}[data-aos][data-aos][data-aos-delay="1100"],body[data-aos-delay="1100"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1100"].aos-animate,body[data-aos-delay="1100"] [data-aos].aos-animate{transition-delay:1.1s}[data-aos][data-aos][data-aos-duration="1150"],body[data-aos-duration="1150"] [data-aos]{transition-duration:1.15s}[data-aos][data-aos][data-aos-delay="1150"],body[data-aos-delay="1150"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1150"].aos-animate,body[data-aos-delay="1150"] [data-aos].aos-animate{transition-delay:1.15s}[data-aos][data-aos][data-aos-duration="1200"],body[data-aos-duration="1200"] [data-aos]{transition-duration:1.2s}[data-aos][data-aos][data-aos-delay="1200"],body[data-aos-delay="1200"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1200"].aos-animate,body[data-aos-delay="1200"] [data-aos].aos-animate{transition-delay:1.2s}[data-aos][data-aos][data-aos-duration="1250"],body[data-aos-duration="1250"] [data-aos]{transition-duration:1.25s}[data-aos][data-aos][data-aos-delay="1250"],body[data-aos-delay="1250"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1250"].aos-animate,body[data-aos-delay="1250"] [data-aos].aos-animate{transition-delay:1.25s}[data-aos][data-aos][data-aos-duration="1300"],body[data-aos-duration="1300"] [data-aos]{transition-duration:1.3s}[data-aos][data-aos][data-aos-delay="1300"],body[data-aos-delay="1300"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1300"].aos-animate,body[data-aos-delay="1300"] [data-aos].aos-animate{transition-delay:1.3s}[data-aos][data-aos][data-aos-duration="1350"],body[data-aos-duration="1350"] [data-aos]{transition-duration:1.35s}[data-aos][data-aos][data-aos-delay="1350"],body[data-aos-delay="1350"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1350"].aos-animate,body[data-aos-delay="1350"] [data-aos].aos-animate{transition-delay:1.35s}[data-aos][data-aos][data-aos-duration="1400"],body[data-aos-duration="1400"] [data-aos]{transition-duration:1.4s}[data-aos][data-aos][data-aos-delay="1400"],body[data-aos-delay="1400"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1400"].aos-animate,body[data-aos-delay="1400"] [data-aos].aos-animate{transition-delay:1.4s}[data-aos][data-aos][data-aos-duration="1450"],body[data-aos-duration="1450"] [data-aos]{transition-duration:1.45s}[data-aos][data-aos][data-aos-delay="1450"],body[data-aos-delay="1450"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1450"].aos-animate,body[data-aos-delay="1450"] [data-aos].aos-animate{transition-delay:1.45s}[data-aos][data-aos][data-aos-duration="1500"],body[data-aos-duration="1500"] [data-aos]{transition-duration:1.5s}[data-aos][data-aos][data-aos-delay="1500"],body[data-aos-delay="1500"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1500"].aos-animate,body[data-aos-delay="1500"] [data-aos].aos-animate{transition-delay:1.5s}[data-aos][data-aos][data-aos-duration="1550"],body[data-aos-duration="1550"] [data-aos]{transition-duration:1.55s}[data-aos][data-aos][data-aos-delay="1550"],body[data-aos-delay="1550"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1550"].aos-animate,body[data-aos-delay="1550"] [data-aos].aos-animate{transition-delay:1.55s}[data-aos][data-aos][data-aos-duration="1600"],body[data-aos-duration="1600"] [data-aos]{transition-duration:1.6s}[data-aos][data-aos][data-aos-delay="1600"],body[data-aos-delay="1600"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1600"].aos-animate,body[data-aos-delay="1600"] [data-aos].aos-animate{transition-delay:1.6s}[data-aos][data-aos][data-aos-duration="1650"],body[data-aos-duration="1650"] [data-aos]{transition-duration:1.65s}[data-aos][data-aos][data-aos-delay="1650"],body[data-aos-delay="1650"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1650"].aos-animate,body[data-aos-delay="1650"] [data-aos].aos-animate{transition-delay:1.65s}[data-aos][data-aos][data-aos-duration="1700"],body[data-aos-duration="1700"] [data-aos]{transition-duration:1.7s}[data-aos][data-aos][data-aos-delay="1700"],body[data-aos-delay="1700"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1700"].aos-animate,body[data-aos-delay="1700"] [data-aos].aos-animate{transition-delay:1.7s}[data-aos][data-aos][data-aos-duration="1750"],body[data-aos-duration="1750"] [data-aos]{transition-duration:1.75s}[data-aos][data-aos][data-aos-delay="1750"],body[data-aos-delay="1750"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1750"].aos-animate,body[data-aos-delay="1750"] [data-aos].aos-animate{transition-delay:1.75s}[data-aos][data-aos][data-aos-duration="1800"],body[data-aos-duration="1800"] [data-aos]{transition-duration:1.8s}[data-aos][data-aos][data-aos-delay="1800"],body[data-aos-delay="1800"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1800"].aos-animate,body[data-aos-delay="1800"] [data-aos].aos-animate{transition-delay:1.8s}[data-aos][data-aos][data-aos-duration="1850"],body[data-aos-duration="1850"] [data-aos]{transition-duration:1.85s}[data-aos][data-aos][data-aos-delay="1850"],body[data-aos-delay="1850"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1850"].aos-animate,body[data-aos-delay="1850"] [data-aos].aos-animate{transition-delay:1.85s}[data-aos][data-aos][data-aos-duration="1900"],body[data-aos-duration="1900"] [data-aos]{transition-duration:1.9s}[data-aos][data-aos][data-aos-delay="1900"],body[data-aos-delay="1900"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1900"].aos-animate,body[data-aos-delay="1900"] [data-aos].aos-animate{transition-delay:1.9s}[data-aos][data-aos][data-aos-duration="1950"],body[data-aos-duration="1950"] [data-aos]{transition-duration:1.95s}[data-aos][data-aos][data-aos-delay="1950"],body[data-aos-delay="1950"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1950"].aos-animate,body[data-aos-delay="1950"] [data-aos].aos-animate{transition-delay:1.95s}[data-aos][data-aos][data-aos-duration="2000"],body[data-aos-duration="2000"] [data-aos]{transition-duration:2s}[data-aos][data-aos][data-aos-delay="2000"],body[data-aos-delay="2000"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2000"].aos-animate,body[data-aos-delay="2000"] [data-aos].aos-animate{transition-delay:2s}[data-aos][data-aos][data-aos-duration="2050"],body[data-aos-duration="2050"] [data-aos]{transition-duration:2.05s}[data-aos][data-aos][data-aos-delay="2050"],body[data-aos-delay="2050"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2050"].aos-animate,body[data-aos-delay="2050"] [data-aos].aos-animate{transition-delay:2.05s}[data-aos][data-aos][data-aos-duration="2100"],body[data-aos-duration="2100"] [data-aos]{transition-duration:2.1s}[data-aos][data-aos][data-aos-delay="2100"],body[data-aos-delay="2100"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2100"].aos-animate,body[data-aos-delay="2100"] [data-aos].aos-animate{transition-delay:2.1s}[data-aos][data-aos][data-aos-duration="2150"],body[data-aos-duration="2150"] [data-aos]{transition-duration:2.15s}[data-aos][data-aos][data-aos-delay="2150"],body[data-aos-delay="2150"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2150"].aos-animate,body[data-aos-delay="2150"] [data-aos].aos-animate{transition-delay:2.15s}[data-aos][data-aos][data-aos-duration="2200"],body[data-aos-duration="2200"] [data-aos]{transition-duration:2.2s}[data-aos][data-aos][data-aos-delay="2200"],body[data-aos-delay="2200"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2200"].aos-animate,body[data-aos-delay="2200"] [data-aos].aos-animate{transition-delay:2.2s}[data-aos][data-aos][data-aos-duration="2250"],body[data-aos-duration="2250"] [data-aos]{transition-duration:2.25s}[data-aos][data-aos][data-aos-delay="2250"],body[data-aos-delay="2250"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2250"].aos-animate,body[data-aos-delay="2250"] [data-aos].aos-animate{transition-delay:2.25s}[data-aos][data-aos][data-aos-duration="2300"],body[data-aos-duration="2300"] [data-aos]{transition-duration:2.3s}[data-aos][data-aos][data-aos-delay="2300"],body[data-aos-delay="2300"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2300"].aos-animate,body[data-aos-delay="2300"] [data-aos].aos-animate{transition-delay:2.3s}[data-aos][data-aos][data-aos-duration="2350"],body[data-aos-duration="2350"] [data-aos]{transition-duration:2.35s}[data-aos][data-aos][data-aos-delay="2350"],body[data-aos-delay="2350"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2350"].aos-animate,body[data-aos-delay="2350"] [data-aos].aos-animate{transition-delay:2.35s}[data-aos][data-aos][data-aos-duration="2400"],body[data-aos-duration="2400"] [data-aos]{transition-duration:2.4s}[data-aos][data-aos][data-aos-delay="2400"],body[data-aos-delay="2400"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2400"].aos-animate,body[data-aos-delay="2400"] [data-aos].aos-animate{transition-delay:2.4s}[data-aos][data-aos][data-aos-duration="2450"],body[data-aos-duration="2450"] [data-aos]{transition-duration:2.45s}[data-aos][data-aos][data-aos-delay="2450"],body[data-aos-delay="2450"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2450"].aos-animate,body[data-aos-delay="2450"] [data-aos].aos-animate{transition-delay:2.45s}[data-aos][data-aos][data-aos-duration="2500"],body[data-aos-duration="2500"] [data-aos]{transition-duration:2.5s}[data-aos][data-aos][data-aos-delay="2500"],body[data-aos-delay="2500"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2500"].aos-animate,body[data-aos-delay="2500"] [data-aos].aos-animate{transition-delay:2.5s}[data-aos][data-aos][data-aos-duration="2550"],body[data-aos-duration="2550"] [data-aos]{transition-duration:2.55s}[data-aos][data-aos][data-aos-delay="2550"],body[data-aos-delay="2550"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2550"].aos-animate,body[data-aos-delay="2550"] [data-aos].aos-animate{transition-delay:2.55s}[data-aos][data-aos][data-aos-duration="2600"],body[data-aos-duration="2600"] [data-aos]{transition-duration:2.6s}[data-aos][data-aos][data-aos-delay="2600"],body[data-aos-delay="2600"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2600"].aos-animate,body[data-aos-delay="2600"] [data-aos].aos-animate{transition-delay:2.6s}[data-aos][data-aos][data-aos-duration="2650"],body[data-aos-duration="2650"] [data-aos]{transition-duration:2.65s}[data-aos][data-aos][data-aos-delay="2650"],body[data-aos-delay="2650"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2650"].aos-animate,body[data-aos-delay="2650"] [data-aos].aos-animate{transition-delay:2.65s}[data-aos][data-aos][data-aos-duration="2700"],body[data-aos-duration="2700"] [data-aos]{transition-duration:2.7s}[data-aos][data-aos][data-aos-delay="2700"],body[data-aos-delay="2700"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2700"].aos-animate,body[data-aos-delay="2700"] [data-aos].aos-animate{transition-delay:2.7s}[data-aos][data-aos][data-aos-duration="2750"],body[data-aos-duration="2750"] [data-aos]{transition-duration:2.75s}[data-aos][data-aos][data-aos-delay="2750"],body[data-aos-delay="2750"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2750"].aos-animate,body[data-aos-delay="2750"] [data-aos].aos-animate{transition-delay:2.75s}[data-aos][data-aos][data-aos-duration="2800"],body[data-aos-duration="2800"] [data-aos]{transition-duration:2.8s}[data-aos][data-aos][data-aos-delay="2800"],body[data-aos-delay="2800"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2800"].aos-animate,body[data-aos-delay="2800"] [data-aos].aos-animate{transition-delay:2.8s}[data-aos][data-aos][data-aos-duration="2850"],body[data-aos-duration="2850"] [data-aos]{transition-duration:2.85s}[data-aos][data-aos][data-aos-delay="2850"],body[data-aos-delay="2850"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2850"].aos-animate,body[data-aos-delay="2850"] [data-aos].aos-animate{transition-delay:2.85s}[data-aos][data-aos][data-aos-duration="2900"],body[data-aos-duration="2900"] [data-aos]{transition-duration:2.9s}[data-aos][data-aos][data-aos-delay="2900"],body[data-aos-delay="2900"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2900"].aos-animate,body[data-aos-delay="2900"] [data-aos].aos-animate{transition-delay:2.9s}[data-aos][data-aos][data-aos-duration="2950"],body[data-aos-duration="2950"] [data-aos]{transition-duration:2.95s}[data-aos][data-aos][data-aos-delay="2950"],body[data-aos-delay="2950"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2950"].aos-animate,body[data-aos-delay="2950"] [data-aos].aos-animate{transition-delay:2.95s}[data-aos][data-aos][data-aos-duration="3000"],body[data-aos-duration="3000"] [data-aos]{transition-duration:3s}[data-aos][data-aos][data-aos-delay="3000"],body[data-aos-delay="3000"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="3000"].aos-animate,body[data-aos-delay="3000"] [data-aos].aos-animate{transition-delay:3s}[data-aos][data-aos][data-aos-easing=linear],body[data-aos-easing=linear] [data-aos]{transition-timing-function:cubic-bezier(.25,.25,.75,.75)}[data-aos][data-aos][data-aos-easing=ease],body[data-aos-easing=ease] [data-aos]{transition-timing-function:ease}[data-aos][data-aos][data-aos-easing=ease-in],body[data-aos-easing=ease-in] [data-aos]{transition-timing-function:ease-in}[data-aos][data-aos][data-aos-easing=ease-out],body[data-aos-easing=ease-out] [data-aos]{transition-timing-function:ease-out}[data-aos][data-aos][data-aos-easing=ease-in-out],body[data-aos-easing=ease-in-out] [data-aos]{transition-timing-function:ease-in-out}[data-aos][data-aos][data-aos-easing=ease-in-back],body[data-aos-easing=ease-in-back] [data-aos]{transition-timing-function:cubic-bezier(.6,-.28,.735,.045)}[data-aos][data-aos][data-aos-easing=ease-out-back],body[data-aos-easing=ease-out-back] [data-aos]{transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}[data-aos][data-aos][data-aos-easing=ease-in-out-back],body[data-aos-easing=ease-in-out-back] [data-aos]{transition-timing-function:cubic-bezier(.68,-.55,.265,1.55)}[data-aos][data-aos][data-aos-easing=ease-in-sine],body[data-aos-easing=ease-in-sine] [data-aos]{transition-timing-function:cubic-bezier(.47,0,.745,.715)}[data-aos][data-aos][data-aos-easing=ease-out-sine],body[data-aos-easing=ease-out-sine] [data-aos]{transition-timing-function:cubic-bezier(.39,.575,.565,1)}[data-aos][data-aos][data-aos-easing=ease-in-out-sine],body[data-aos-easing=ease-in-out-sine] [data-aos]{transition-timing-function:cubic-bezier(.445,.05,.55,.95)}[data-aos][data-aos][data-aos-easing=ease-in-quad],body[data-aos-easing=ease-in-quad] [data-aos]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-quad],body[data-aos-easing=ease-out-quad] [data-aos]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-quad],body[data-aos-easing=ease-in-out-quad] [data-aos]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos][data-aos][data-aos-easing=ease-in-cubic],body[data-aos-easing=ease-in-cubic] [data-aos]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-cubic],body[data-aos-easing=ease-out-cubic] [data-aos]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-cubic],body[data-aos-easing=ease-in-out-cubic] [data-aos]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos][data-aos][data-aos-easing=ease-in-quart],body[data-aos-easing=ease-in-quart] [data-aos]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-quart],body[data-aos-easing=ease-out-quart] [data-aos]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-quart],body[data-aos-easing=ease-in-out-quart] [data-aos]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos^=fade][data-aos^=fade]{opacity:0;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}[data-aos^=fade][data-aos^=fade].aos-animate{opacity:1;-webkit-transform:translate(0);-ms-transform:translate(0);transform:translate(0)}[data-aos=fade-up]{-webkit-transform:translateY(100px);-ms-transform:translateY(100px);transform:translateY(100px)}[data-aos=fade-down]{-webkit-transform:translateY(-100px);-ms-transform:translateY(-100px);transform:translateY(-100px)}[data-aos=fade-right]{-webkit-transform:translate(-100px);-ms-transform:translate(-100px);transform:translate(-100px)}[data-aos=fade-left]{-webkit-transform:translate(100px);-ms-transform:translate(100px);transform:translate(100px)}[data-aos=fade-up-right]{-webkit-transform:translate(-100px,100px);-ms-transform:translate(-100px,100px);transform:translate(-100px,100px)}[data-aos=fade-up-left]{-webkit-transform:translate(100px,100px);-ms-transform:translate(100px,100px);transform:translate(100px,100px)}[data-aos=fade-down-right]{-webkit-transform:translate(-100px,-100px);-ms-transform:translate(-100px,-100px);transform:translate(-100px,-100px)}[data-aos=fade-down-left]{-webkit-transform:translate(100px,-100px);-ms-transform:translate(100px,-100px);transform:translate(100px,-100px)}[data-aos^=zoom][data-aos^=zoom]{opacity:0;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}[data-aos^=zoom][data-aos^=zoom].aos-animate{opacity:1;-webkit-transform:translate(0) scale(1);-ms-transform:translate(0) scale(1);transform:translate(0) scale(1)}[data-aos=zoom-in]{-webkit-transform:scale(.6);-ms-transform:scale(.6);transform:scale(.6)}[data-aos=zoom-in-up]{-webkit-transform:translateY(100px) scale(.6);-ms-transform:translateY(100px) scale(.6);transform:translateY(100px) scale(.6)}[data-aos=zoom-in-down]{-webkit-transform:translateY(-100px) scale(.6);-ms-transform:translateY(-100px) scale(.6);transform:translateY(-100px) scale(.6)}[data-aos=zoom-in-right]{-webkit-transform:translate(-100px) scale(.6);-ms-transform:translate(-100px) scale(.6);transform:translate(-100px) scale(.6)}[data-aos=zoom-in-left]{-webkit-transform:translate(100px) scale(.6);-ms-transform:translate(100px) scale(.6);transform:translate(100px) scale(.6)}[data-aos=zoom-out]{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2)}[data-aos=zoom-out-up]{-webkit-transform:translateY(100px) scale(1.2);-ms-transform:translateY(100px) scale(1.2);transform:translateY(100px) scale(1.2)}[data-aos=zoom-out-down]{-webkit-transform:translateY(-100px) scale(1.2);-ms-transform:translateY(-100px) scale(1.2);transform:translateY(-100px) scale(1.2)}[data-aos=zoom-out-right]{-webkit-transform:translate(-100px) scale(1.2);-ms-transform:translate(-100px) scale(1.2);transform:translate(-100px) scale(1.2)}[data-aos=zoom-out-left]{-webkit-transform:translate(100px) scale(1.2);-ms-transform:translate(100px) scale(1.2);transform:translate(100px) scale(1.2)}[data-aos^=slide][data-aos^=slide]{transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}[data-aos^=slide][data-aos^=slide].aos-animate{-webkit-transform:translate(0);-ms-transform:translate(0);transform:translate(0)}[data-aos=slide-up]{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%)}[data-aos=slide-down]{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}[data-aos=slide-right]{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%)}[data-aos=slide-left]{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%)}[data-aos^=flip][data-aos^=flip]{-webkit-backface-visibility:hidden;backface-visibility:hidden;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}[data-aos=flip-left]{-webkit-transform:perspective(2500px) rotateY(-100deg);transform:perspective(2500px) rotateY(-100deg)}[data-aos=flip-left].aos-animate{-webkit-transform:perspective(2500px) rotateY(0);transform:perspective(2500px) rotateY(0)}[data-aos=flip-right]{-webkit-transform:perspective(2500px) rotateY(100deg);transform:perspective(2500px) rotateY(100deg)}[data-aos=flip-right].aos-animate{-webkit-transform:perspective(2500px) rotateY(0);transform:perspective(2500px) rotateY(0)}[data-aos=flip-up]{-webkit-transform:perspective(2500px) rotateX(-100deg);transform:perspective(2500px) rotateX(-100deg)}[data-aos=flip-up].aos-animate{-webkit-transform:perspective(2500px) rotateX(0);transform:perspective(2500px) rotateX(0)}[data-aos=flip-down]{-webkit-transform:perspective(2500px) rotateX(100deg);transform:perspective(2500px) rotateX(100deg)}[data-aos=flip-down].aos-animate{-webkit-transform:perspective(2500px) rotateX(0);transform:perspective(2500px) rotateX(0)}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><div class="sc-cvbbAY bGfQDw" data-reactroot="" data-reactid="1" data-react-checksum="-2113910069"><!-- react-empty: 2 --><div id="home" data-reactid="3"><div class="headroom-wrapper" data-reactid="4"><div style="position:relative;top:0;left:0;right:0;z-index:10;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);" class="headroom headroom--unfixed" data-reactid="5"><div class="sc-iwsKbI iVHufg" data-reactid="6"><nav class="sc-htoDjs flMGHS" data-reactid="7"><a class="sc-gzVnrw hETFBV sc-bZQynM bOrPFB sc-ifAKCX ikqKUj" href="/blog/look-inside-fiber#home" data-reactid="8"><!-- react-empty: 9 --><!-- react-empty: 10 --></a></nav><div class="sc-bxivhb gAGSrG" data-reactid="11"><!-- react-empty: 12 --><nav class="sc-dnqmqq bPdAQD" data-reactid="13"><a class="sc-bZQynM bOrPFB sc-ifAKCX ikqKUj" href="/blog/look-inside-fiber#team" data-reactid="14">Team</a><a class="sc-bZQynM bOrPFB sc-ifAKCX ikqKUj" href="/blog/look-inside-fiber#work" data-reactid="15">Work</a><a class="sc-bZQynM bOrPFB sc-ifAKCX ikqKUj" href="/blog/look-inside-fiber#contact" data-reactid="16">Contact</a><a class="sc-EHOje jvzENE sc-ifAKCX ikqKUj" aria-current="false" href="/blog/blog" data-reactid="17">Blog</a></nav></div></div></div></div><div class="sc-jWBwVP fdrAuA" data-reactid="18"><article class="sc-brqgnP fCENgp" data-reactid="19"><!-- react-empty: 20 --><div class=" gatsby-image-outer-wrapper" style="z-index:0;position:relative;" data-reactid="21"><div class="sc-cMljjf CbmaL gatsby-image-wrapper" style="position:relative;overflow:hidden;z-index:1;" data-reactid="22"><div style="width:100%;padding-bottom:50%;" data-reactid="23"></div><img alt="" src="data:image/svg+xml,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; width=&#x27;400&#x27; height=&#x27;200&#x27; viewBox=&#x27;0 0 400 200&#x27;%3E%3Cpath d=&#x27;M133 1.1c0 .6-.7.9-1.5.5-1-.4-1.5.1-1.5 1.8 0 2.7 2 3.6 9.1 4 5.2.4 9 3 8.2 5.5-.5 1.3-.3 1.4.8.3 1.6-1.5 5.3-1.6 4.4-.1-1.2 2 .5 8.1 2 7.5.9-.3 1.5 0 1.5.6 0 .7 1.4.8 4 .4 3.6-.6 4-.4 4 1.4 0 1.2.4 1.8 1 1.5.6-.3 1 .4 1 1.7 0 2.6 3.2 5 5.5 4.2.8-.3 1.5-.1 1.5.5s-.5 1.1-1.2 1.1c-1.5 0-.1 1.3 1.7 1.6.8.1 1.5-.4 1.5-1.2 0-1.5 1.6-2 2.4-.6 1.1 1.9-.6 5-2.5 4.5-1-.3-1.9 0-1.9.6s-1.2 1.1-2.8 1.2h-2.7l2.9 1.1c2 .7 2.4 1.3 1.5 1.8-2.1 1.4-1.8 6.2.4 5.6 1-.2 3 .2 4.5 1 2.5 1.3 2.5 1.4.5 1.4s-4.3 2.5-4.3 4.9c0 .5 2.3 1.7 5 2.6 5.9 2 6.1 3.2.3 1.6-5.5-1.6-6.8-1.5-5.3.4.7.8 1.6 1.3 2 1 .4-.2 1.6.2 2.6 1 1.8 1.4 1.8 1.6.2 2.8-1.5 1.2-1.5 1.6-.3 4.1 1.4 2.6 1.4 2.8-.3 2.1-4-1.6-4.6-1.6-2.7 0 2 1.7 2 1.7-.5 1-7.2-1.8-7.2-1.8-6.5 1.5.5 2.1.3 3-.6 3-.9 0-.5.8.8 2.1 1.5 1.5 2.7 2 4 1.4 1.7-.8 1.7-.8 0-1.2-2-.5-1.3-2.3 1-2.3.7 0 1.1.5.8 1-1 1.6 1.1 1.2 2.5-.5.7-.8 1.7-1.5 2.3-1.5.6 0 0 1-1.1 2.3-1.2 1.3-2.2 3-2.2 4s-.4 1.7-1 1.7l-2.4.6c-1.1.4-1.6 0-1.6-1.2 0-1.6-.2-1.6-1-.5-.7 1.2-1.3 1.3-3.5.3-3.3-1.5-4-1.5-2.8 0 .8 1 1 4.2.4 8.1 0 .5-.6.5-1.2.1-.8-.4-.9 0-.4 1.5.8 2.5-2 3-2.9.6-.6-1.7-2.6-2-2.6-.5 0 2.3 4.3 5.4 5.4 3.9a5 5 0 0 1 3.1-1.7c1.1-.2 2.7-1 3.6-1.8 2.5-2.2 3.4-1.6 1.3.8-1 1.2-1.4 1.9-.8 1.5.6-.3 1 0 1 .8S169 96 168 96c-.9 0-2.1.5-2.8 1.2-.7.7-1.2.8-1.2.4 0-.5-.7-.3-1.5.4s-1.5 1-1.5.6-.7 0-1.6.9c-1 1-1.4 2.6-1.1 4.2.3 1.7 0 3.1-1 3.8-.7.5-1.5 2.4-1.6 4-.1 1.7-1 3.6-2 4.3-1.4 1-1.5 1.7-.7 2.7.7.8.8 2 .4 2.6-.4.7-.3 1 .2.6.6-.3 1 .6 1.2 2 .3 3.7 3 7.2 3.8 5 .3-1 1.3-1.7 2.1-1.7s1.3.6 1 1.3c-.3.7.3 2.4 1.4 3.8 1.8 2.4 1.8 2.4-.3 4-1.2 1-1.8 2.1-1.4 2.8.6 1 1.1 1 2.2 0 .9-.7 1.4-.8 1.4-.1 0 .6-.6 1.3-1.3 1.5-.6.3 0 .5 1.3.5 1.4-.1 3.5.2 4.7.6 3.4 1 4-1.4 1-3.9-1.5-1.1-2.7-2.7-2.7-3.4 0-.8-.6-1-1.5-.7-.8.3-1.5.3-1.5 0 0-1 5-5.4 6-5.4.6 0 1-.7 1-1.7 0-2 6.3-7.9 6.8-6.3.2.5 1.9 1 3.7 1 2.4 0 3.5.5 4 1.9.8 2.7-.5 5.3-2.5 4.8-1.2-.3-2.2.4-2.9 2-1.4 3-1.4 4.4 0 4 .6 0 1.4.4 1.7 1.2.3 1-.1 1.3-1.7.8-2.8-.7-2.7.6.2 2.6 1.5 1.1 1.8 1.9 1 2.4-1.6 1.2-2.6 5.2-1.5 6.6 1 1.3 1 4.1-.2 6.7-.3.8-.8 3-1 5-.3 3.1-.6 3.5-3 3.2-2-.3-2.5 0-2 1.2.4 1 1.8 1.6 3.5 1.6 1.6 0 2.9.5 2.9 1 0 .6.4.8 1 .5.6-.3 1 0 1 1 0 1.8-3.5 3.8-5.8 3-1-.2-3.5.2-5.7 1l-4 1.4 5.5.4 5.5.4h-6l-14.5.7c-5.3.3-6.8.2-4-.3l4.5-.7-5.4-.8c-3-.5-4.8-1.1-4.2-1.6.9-.5.4-1.6-1.5-3.9-1.7-2-3-2.8-3.8-2.3-.6.5-2.2.5-3.6.1-2.3-.6-2.3-.7-.3-.8 2.9-.1 4-2.1 1.3-2.1a6 6 0 0 1-3.6-1.5c-1.4-1.3-1.4-1.5 0-1.5.9 0 1.6.4 1.6 1s1 1 2.3 1l2.2-.1-2.3-1c-1.3-.5-2-1.3-1.7-1.9.3-.5.1-1-.5-1s-.9-.4-.5-1c.9-1.5-2.7-2.8-6.3-2.3-2.8.5-3.2.3-3.2-1.8 0-1.3-.7-3.3-1.5-4.3s-1.2-2.2-1-2.6c.3-.5-2.3-1.2-5.8-1.6-3.4-.4-5.4-1-4.5-1.2 2.6-.5 2.2-2.2-.5-2.2-2.8 0-6.2-2.3-6.2-4.2 0-1.4-6.9-2.9-9.5-2-4.3 1.3-6 2.7-6.1 5.1 0 2-.3 1.6-1-1.4-.5-2.1-.7-4.5-.4-5.3.4-1.1 0-1.3-2.2-.7-2.3.5-2.5.4-1.4-1 1.1-1.2 1.1-1.5 0-1.5-.9 0-2.5-.9-3.7-2-1.2-1.1-2.6-2-3.2-2a1 1 0 0 1-1-1c0-.5-.7-1-1.5-1-.9 0-1.2-.6-.9-1.5.9-2.1-1.5-1.9-2.4.3-.5 1.2-2 1.7-5.2 1.8a69 69 0 0 0-7 .5c-2.5.4-2.6.3-2.9-4.3 0-1-1.1-1.8-2.9-2-1.6-.2-2.6-.8-2.4-1.6.2-1-1-1.3-4-1.2-7.9.3-10.6 0-8.3-1 2-.9 2-.9-.3-1.6l-2.2-.6 2.6-2.3c3.2-2.7 1.9-3.5-5.7-3.5-2.7 0-4.9-.5-4.9-1s.5-1 1.2-1 .6-.5-.4-1.3c-1-.7-1.8-3.6-2.2-7.2-.4-3.2-1.2-6.2-1.8-6.6-.7-.4-.4-.9.8-1.2 1-.3.3-.5-1.7-.6l-3.6-.1-.6-6.8c-1-10.3-.8-15 .6-15.5.6-.2-.5-.7-2.6-1-3.6-.8-3.7-.9-3.7-5.2V54h-8v9H.7l.6-4.5c.4-2.7.3-4.5-.3-4.5-.7 0-1 26-1 73v73h116v-3.6c0-2-.4-3.3-.9-3-.5.3-1.2-.2-1.5-1-.6-1.5-.8-1.5-2.2.2-1.5 1.8-1.5 1.8-1-.8.3-1.5.2-3-.4-3.3-.5-.3-1-2.8-1-5.5 0-6.3 1.3-7 12.2-6.8l8.3.1-6.3.6-6.4.6 10.5 7c7.3 4.9 10 7.2 9 7.6-1.3.4-1.4.7-.4 1.4.8.4 1.7.2 2.3-.6.8-1 .9-1 .4.3-.3 1-.1 1.8.4 1.8.6 0 1-.5 1-1 0-.6 2.5.5 5.5 2.5l5.5 3.5h30c25.5 0 29.9-.2 30.4-1.5.3-.8 1.8-1.5 3.3-1.5 2.6 0 2.6 0 .7-1.5-1.8-1.4-1.8-1.4 0-1.5 1.2 0 1.6-.5 1.2-1.6-.4-1.1-.2-1.5.8-1 .8.2 1.7 0 2-.7.2-.7.5.4.5 2.3 0 2.8-.5 3.9-2.7 5.2-2.6 1.7-2.3 1.7 11.1 1.8h13.8l-2-2.6c-1.2-1.5-2.1-4-2.1-5.5 0-3.2.5-3.3 14.4-4.5l7.8-.6-.4 3.4c-.6 5.4 1.5 6.8 9 6.3 4.7-.4 7.8 0 12 1.5 7.4 2.6 34.3 3 28.3.5-1.8-.8-3.7-1.2-4.2-1-.5.4-.9-2-.9-5.3 0-5.8.1-6 3.3-7.5 4.3-2 16.7-2.8 16.7-1 0 .7-.3 1.2-.8 1.1-1.4-.3-6.2 1.4-6.2 2.2 0 .5 3.5 1.6 7.8 2.6 11.4 2.5 26.2 6.3 27.3 7 .6.3.8 1.2.5 2-.6 1.5 41 2.2 46.1.8l2.3-.6V139c0-32.8-.3-77.5-.7-99.4l-.6-39.8-13.4.3c-8.5.2-13.6.7-14 1.4-1.4 2-7.4 2.9-6.7 1 .4-1 1.2-1.5 1.9-1.3.6.3 1.8.1 2.6-.4S326 0 260.7 0C175.3 0 150 .3 150 1.2c0 1-.3 1-1.2 0-1.6-1.6-15.8-1.6-15.8 0m253.5 40.7c-.3.6-1.8 1.1-3.3 1.1-5.4 0-18.2 8.1-18.2 11.4 0 2 4.3 0 6.7-2.9l2.9-3.4 2.8 2.6c1.5 1.4 3.1 2.2 3.5 1.6l4-5.7c1.8-2.6 3-5 2.8-5.2-.3-.3-.8 0-1.2.5M.5 127c0 40.4.1 57 .3 36.8V90.2C.6 70 .5 86.7.5 127m253.8-72.3c-1.8.2-3.3.8-3.3 1.3s-.3 1.7-.6 2.7c-.4 1.3 0 1.1 1.4-.6l2-2.4.7 3.1c.3 1.7.4 3.6 0 4.2-.3.5-.2 1 .3 1 .9 0 2.2 4.6 2.7 9.5.1 1.1.5 2.7.9 3.5.3.8.8 2.8 1 4.5.8 7.2 3 14.5 4.3 14.5.9 0 1.2-.8.9-2.3l-2.5-10c-.4-1.6 2.3-2.7 3.6-1.5 1.8 1.4 1.7 1.1-2.1-14.2-3.6-14.2-3.5-14-9.4-13.3m91.3 28c-.9 2.7-2.2 3-2.8.5-.4-1.6-.5-1.6-.6 0 0 1-.7 1.8-1.5 1.8s-1.7-.8-2-1.8c-.3-1.3-.4-1.1-.5.5-.1 2.9-2.1 3-2.1.2 0-1.2-.5-1.9-1.3-1.6-.6.2-1.1 1.2-1 2 0 1-.3 1.7-.8 1.7s-1-.8-1-1.8c0-1.3-.2-1.4-.6-.2-.3.8-1.1 1.9-1.7 2.3-.8.6-.7 1 .1 1.4.7.2 1.3 1.4 1.3 2.4 0 1.1-.4 1.7-1 1.4-.6-.3-1 .1-1 1s.4 1.3 1 1c.6-.3 1 .3 1 1.4 0 1.2-.4 2.1-1 2.1s-1 .7-1 1.6c0 .8.4 1.3 1 1 .5-.4.8.3.7 1.4 0 1-.5 2-1 2-.3 0-.7 1-.7 2.3 0 1.8.2 2 1 .7.8-1.2 1-1 1 .7 0 1.6-.4 2-1.5 1.6-.9-.3-1.5-.2-1.4.3.6 3.3-.3 14.6-1 12.8-1.4-3.2-8-4.8-13-3-3.7 1.2-4 1.2-5.8-1a9.1 9.1 0 0 0-6-2.7l-4.3-.5v6.9c0 3.8.4 6.9.8 6.9 1.1 0 4.3 5.6 3.5 6.3-1.7 1.8-.5 10.9 2 14.5 2.3 3.2 2.7 4.9 2.7 10.9 0 6.7.1 7 2.3 6.8l7.2-.5c2.8-.1 4.2-.4 3.2-.7-1-.3-1.6-1.1-1.3-2.1 1.6-5.6 1.7-8.5.6-9.2-2.1-1.3.6-9.5 3.6-11 1.6-1 2-1.6 1.3-2-.7-.5-.8-1.3-.3-2.1s.7-2.2.6-3.2c-.2-1 .4-2 1.4-2.4 2.2-.8 5.4 3 4.7 5.7-.4 1.4.3 2.7 2 4 1.8 1.4 2.6 3.3 3 7 .6 3.9 1.2 5 3 5.6 1.2.4 2.5 1.1 2.9 1.7.4.7 1.1.7 2.1-.2 1.3-1 1.6-.8 2.2.8.3 1.1 1 2 1.5 1.8.4-.1 1 .3 1 .8.7 2.2 3 3.6 5 3 1.2-.4 1.9-1 1.6-1.2-.3-.4.2-1.1 1-1.8 1-.7 2-3.3 2.3-6.1 1-7.4.4-9.2-2.7-9.7l-2.7-.4 2.8-.2 2.7-.1-.1-15.3c0-8.3-.3-14.4-.6-13.4-.5 2-2.3 2.3-2.3.2 0-.8-.4-1.5-1-1.5s-1 .7-1 1.5-.4 1.5-1 1.5-1-.7-1-1.5-.6-1.5-1.4-1.5c-.8 0-2.1-.3-3-.6-1.2-.5-1.6 0-1.7 1.7v2.4l-1-2.5-1.1-2.5-1 2.5c-1.1 2.5-1.1 2.5-1.5.3-.3-1.3-.8-2.3-1.3-2.3s-1 1-1.3 2.3l-.4 2.2-.8-2.3c-.4-1.2-1.4-2.2-2.3-2.2-.8 0-1.3-.2-1-.5.9-1 5.4-1.4 15-1.4l9.8-.1v-2.8l-.1-2.7-1.1 2.5-1.1 2.5-.5-2.4c-.2-1.3.2-2.8 1-3.2.9-.6 1-1.1.2-1.7-2.2-1.5-2.4-4.2-.4-4.2 1.1 0 2-.5 2-1s-.7-1-1.5-1-1.5-.5-1.5-1.1c0-.6.7-.9 1.5-.5 1 .4 1.5-.1 1.5-2 0-1.4-.6-2.4-1.4-2.4-1.6 0-3-2.7-2-4.1.3-.5 1-.7 1.4-.4.5.3 1.1 0 1.5-.5.3-.5-.3-1-1.4-1-1.2 0-2.1-.8-2.4-2.3l-.4-2.2-.2 2.3c-.1 2.8-2.1 3-2.1.1 0-1.2-.5-1.9-1.3-1.6-.6.2-1 1.1-1 2 .5 2.6-1.5 2-2-.5l-.4-2.3-.8 2.3m-162.5 0c-2 .7-4 3.5-3.5 4.9.2.6-.5 1.9-1.6 2.9-2.5 2.2-2.4 3 .3 3 1.9 0 2.4.7 3.3 5 1.2 6.2 3 8.7 2.2 3.1-.5-3.3-.3-3.7 1.1-3.3 1 .3 3.7.2 6.2-.3l4.5-.9-4.5-.2-4.5-.3 3.8-.6c4.2-.7 5-2.3 1.5-3.3l-2.3-.6 2.3-.1c1.2 0 2.2-.5 2.2-1s.9-1.1 2-1.4c3.3-.9 2.4-3-1-2.2-2.6.6-3.1.3-4.2-2-.8-1.8-1.7-2.5-3-2.2-1 .3-1.8.1-1.8-.4 0-1-.7-1-3-.2m48.5 29.3c-.5 1.5-1 1.9-1.7 1.2-1.4-1.4-8.8 6.6-8.8 9.6 0 2.6-2.7 5.6-8 9-2 1.2-3 2.2-2.5 2.2.6 0 .4.4-.4 1-2 1.1.1 3.8 4.4 5.6 2.6 1.1 3.2 1 5-.6 7.6-7.2 7.5-7.2 7.6-2.3 0 3.7 0 3.7 1 1.1 1-2.7 4-4.4 5.9-3.3 1.3.8 1.3 5.2 0 6-1.3.8 1.7 4.5 3.6 4.5 1.7 0 2.4 2.6 3.8 14.4l1.1 10.1 8-.6c4.4-.3 6.4-.6 4.5-.7-3.5-.2-3.5-.3-3.6-4.4 0-3.4 2.5-9.2 2.6-6.1 0 .4.7-.7 1.5-2.6 1.9-4.2 2-11 .3-11.1-.7 0-.2-1 1-2 1.4-1.1 2-2 1.6-2-.5 0-.2-.5.6-1 1.3-1 1.3-1.2-.2-2.4-1.3-1-1.6-2.3-1.3-5.2.4-3 .2-3.5-.6-2.4-.9 1.2-1 1-.6-.8s.2-2.2-1-1.8c-.8.3-1.1.1-.8-.4.8-1.3-.1-1.3-2.5 0-1.5.8-2.4.6-3.9-.9a13 13 0 0 0-3.2-2.4c-1-.4-.7-.6.5-.6 2-.1 2-.1.1-1.5-2-1.5-7.2-.6-9 1.6-.6.7-1.9 1.3-3 1.3-1 0-2 .7-2.3 1.5-.4 1.2-.2 1.3 1 .3.7-.7 2-.8 2.7-.4 1 .6.7 1-.8 1.4-1.2.3-2.1 1.3-2.1 2.5 0 1.3-.8 2.1-2.5 2.4-3.4.7-3.6.2-2-4.5 1.2-3 1.2-4.2.4-4.8-2.2-1.3-.1-4.2 2.6-3.5 2 .5 2.6.2 3-1.6 1.1-4.5-.7-9.8-2-5.8m130.1 69.8c-8.5.3-15 2.5-12.9 4.6.3.3-.9.6-2.8.7-3 0-2.8.3 2.5 2 3.3 1 6.3 1.6 6.6 1.4.4-.2 2.4 0 4.5.6 4.3 1.2 14.9.3 14-1.2-.4-.5-2.5-1-4.8-1-3 0-3.8-.2-2.7-.9.9-.6 1-1 .3-1-.6 0-1.4.4-1.8 1-.6 1-3.4.2-5.2-1.6-1-1 .6-1.5 6.7-2.5 4.4-.7 8-1.5 8-1.9 0-.6.2-.6-12.4-.2M280 186c-3.2.7-3.3.8-1.3 1.5 1.4.4 2.3 1.5 2.3 2.7 0 2 5.2 4.8 11.3 6.2 2.7.6 4-1.5 1.7-2.9-.6-.3-1-1.9-1-3.4 0-5-3.6-6-13-4&#x27; fill=&#x27;lightgray&#x27; fill-rule=&#x27;evenodd&#x27;/%3E%3C/svg%3E" style="position:absolute;top:0;left:0;transition:opacity 0.5s;transition-delay:0.25s;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center;" data-reactid="24"/><noscript data-reactid="25"><img width= height= src="/static/first-68fab32cc4e9874fd94741e2c7a3c1da-39be0.png" srcset="/static/first-68fab32cc4e9874fd94741e2c7a3c1da-91a78.png 360w,
/static/first-68fab32cc4e9874fd94741e2c7a3c1da-a3423.png 720w,
/static/first-68fab32cc4e9874fd94741e2c7a3c1da-39be0.png 1400w" alt="" title="" sizes="(max-width: 1400px) 100vw, 1400px" style="position:absolute;top:0;left:0;transition:opacity 0.5s;transition-delay:;opacity:;width:100%;height:100%;object-fit:cover;objectPosition:center"/></noscript></div></div><section class="sc-iRbamj jxhahD" data-reactid="26"><h1 class="sc-jAaTju evWLwy" data-reactid="27">A look inside React Fiber</h1><section class="sc-jlyJG itltRQ" data-reactid="28"><section class="sc-jDwBTQ gzpPfD" data-reactid="29"><span data-reactid="30">Korneliusz Caputa</span><!-- react-text: 31 -->,<!-- /react-text --><span class="sc-gPEVay eQYmiW" data-reactid="32">July 07, 2017</span></section><section data-reactid="33"><p>As we all know by now, a big change is coming inside of React. <del>with version 16.
It's a significant one, because it will affect the performance of more complex
React applications.</del></p>
<p><em>(EDIT: As Dan Abramov pointed out in his comment, even though 16 will be
running on Fiber, it will run in synchronous mode, mimicking the "traditional"
approach to rendering. This will not confer any changes in application behavior or
performance. The async Fiber APIs will be exposed in some ways but will not be
the default mode of operation. Read on nevertheless!)</em></p>
<p>The crux of the change is transitioning from processing updates in a synchronous,
recursive way to relying on asynchronous scheduling and prioritization of
interface changes.
The desired result is 60 FPS and a pristine user experience.
It's been a while since the announcement already, and
<a href="https://www.youtube.com/watch?v=aV1271hd9ew">many good things</a>
<a href="https://www.youtube.com/watch?v=ZCuYPiUIONs">have been said</a>
<a href="https://github.com/acdlite/react-fiber-architecture">and written</a>.
However, I like to see things for myself and understand how they work from the ground
up. There were also a few topics that lacked "press coverage".</p>
<p>Thus, down the rabbit hole I went!</p>
<p>Fiber is not the most straightforward piece of software, both conceptually and
code-wise, so it should be approached in a structured way.
This post will go outside-in - starting from calling the <code>render</code>
function in client JS and changing state of a component, down to
describing the steps taken by Fiber to do all the work.
At a few points along the way you will be given a choice to go further down or
return to the tip and track your way back to the same point from a different
origin.</p>
<p>If you feel like it, you can grab the Fiber codebase from Github and track your
way through the post in the code, starting <a href="https://github.com/facebook/react/blob/master/src/renderers/dom/fiber/ReactDOMFiberEntry.js">here</a>.</p>
<p>React source code is sprinkled with a lot of error handling, dev logging and
performance measurement calls. I'm going to skip those and focus on the main
logic for the sake of clarity.</p>
<p>Another point to note is that currently Fiber code is coupled to the DOM
renderer in a few places, because things are still developing, as I understand it.
I'll try to avoid referring to it, but you can assume that "the renderer" means
"the DOM renderer" in this post.</p>
<p><a id="org882dfad"></a></p>
<h2>The first render: scratching the surface</h2>
<p>So you have your HTML skeleton in place, relevant JS is loaded, and you hit that
first <code>render</code> call. Because the page and the fiber tree is empty (there is no <code>root</code>), Fiber knows
that it doesn't have to worry about asynchronous processing, since nothing
should be happening outside of React itself.
So it creates a fiber instance that will represent your container as the root of
the fiber tree.
Then it tells the <code>Scheduler</code> that what happens next should be considered as <code>unbatchedUpdates</code>.
The update in question is telling the <code>Reconciler</code> to <code>updateContainer</code>, where
the <code>container</code> is the root fiber that has just been created.</p>
<p>"Updating the container" at this point means the following:</p>
<ol>
<li>
<p>**Set the root fiber <code>context</code>. **
Yeah, the thing that the docs tell you to avoid using.
Overall I haven't found anything relevant to this post there.</p>
</li>
<li>
<p><strong>Push an update into the update queue of the root fiber.</strong>
The "bulk" of the update is the <code>state</code>. At that moment in the <code>Scheduler</code>
context it is called <code>nextState</code>, because this state is what will be
happening next. In the context of the update queue it is called
<code>partialState</code>, because it will be merged with the <code>prevState</code>.
It is also the state you use in your React components.</p>
<p>React's composability is nicely visible here - if you squint just a little,
rendering your application is not much more than a glorified <code>setState</code> call.</p>
<p>The update has a set priority level - remember that the <code>Scheduler</code> has been
told to do <code>unbatchedUpdates</code>? Because of that the priority level is set to
<code>SynchronousPriority</code>. It means that this update must be done ASAP, without
worrying about blocking the UI thread. The priority is being used to
determine where in the fiber's update queue this particular update should go.
In this case the queue is empty, so it will be the head. Even if the queue wasn't
empty though, it's ordered by descending priority - the update would still go
to the front (given there are no prior <code>SynchronousPriority</code> updates there already).</p>
</li>
<li>
<p><strong>Tell the <code>Scheduler</code> to schedule the update work to be done.</strong>
This is where the ball gets rolling.
When the <code>Scheduler</code> is told to schedule an update, it looks at the
nodes in the fiber tree, traversing it using the <code>return</code> property of each fiber.</p>
<p>This property is pointing to a node which should be worked on next in case a
work phase gets interrupted (more on that later). For the sake of simplicity
you can assume it's the parent fiber.</p>
<p>So the <code>Scheduler</code> goes up the tree starting from the node that the update
should be scheduled for, bumping up priorities where needed along the way,
until it reaches the root. It can see that it's at the root, because there is
no <code>return</code> node from it.
In the current case (initial render), the update has been scheduled for the
root node, so we're already there.</p>
<p>Upon reaching the root, the <code>Scheduler</code> puts it in a <code>scheduledRoot</code> list
(more about this later, that's how it later finds new work to do) and finally
schedules the work according to given priority. In our example it's
<code>SynchronousPriority</code>, so it jumps to the "doing work" phase immediately.</p>
<p>That's all there is to <code>render</code>. The "doing work" phase is generic across all
the flows, so it's described in it's own chapter. You can go there now if you
feel the flow. Alternatively, you can read how Fiber arrives at this phase
when you call <code>setState</code> if you need a bit more context.</p>
</li>
</ol>
<p><a id="orgc07b371"></a></p>
<h2>Changing state: it's not too exotic</h2>
<p>Each React component instance has an <code>updater</code>.
The <code>updater</code> is an injected dependency and mediates the communication between
the components and the React core.</p>
<p>With Fiber, the <code>updater</code> has 4 responsibilities:</p>
<ol>
<li>Find a fiber instance in the tree that corresponds to this component.</li>
<li>Ask the <code>Scheduler</code> about the priority level for this fiber.</li>
<li>Push updates to the fiber's update queue.</li>
<li>Schedule update work to be done with the determined priority level.</li>
</ol>
<p>Sounds familiar? It should, because that's almost exactly the same thing that
happens on render.</p>
<p>You probably know that, but I should point out that there are two forms of arguments
it can be called with:</p>
<ul>
<li><code>setState({ ... }, [callback])</code></li>
<li><code>setState((prevState, props) => ({ ... }), [callback])</code></li>
</ul>
<p>It's not crucial at this point, but good for you to keep in mind as the
first form will eventually become deprecated. More on that later.</p>
<p>Ok, so you call <code>setState((prevState, props) => ({ ... }), [callback])</code>
in your component. It tells its <code>updater</code> to enqueue a <code>setState</code>.</p>
<p>Let's go through the 4 responsibilities.</p>
<h3>1. Find a fiber instance in the tree that corresponds to this component.</h3>
<p>   It's just getting a thing from the <code>ReactInstanceMap</code> - which is just that, a
map, nothing fancy. One perhaps slightly interesting thing about it is that
it maps from public facing instances to internal methods. Example:
</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> key<span class="token punctuation">.</span>_reactInternalInstance<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
      </div>
<h3>2. Ask the <code>Scheduler</code> about the priority level for this fiber.</h3>
<p>   There is a <code>Scheduler</code> method called <code>getPriorityContext</code> that provides a
suitable priority level for a fiber update. For all intents and purposes,
the priority level for a <code>setState</code> will be <code>LowPriority</code>. Refer to the
glossary to see how that priority level stacks up against the others.</p>
<p>   <em>There are 2 edge cases to this, but you shouldn't concern yourself with
them too much.
If you're studying for a test and must know, they are:
explicitly passing a <code>useSyncScheduling: true</code> parameter to the context getting
function, which will result in <code>SynchronousPriority</code>; and having
<code>priorityContext</code> of <code>SynchronousPriority</code> during the work phase or a
<code>batchedUpdates</code> callback - which will result in <code>TaskPriority</code>.</em></p>
<h3>3. Push updates to the fiber's update queue.</h3>
<p>   This logic is pretty much the same as in the initial render case. The only
differences are that:</p>
<ul>
<li><code>setState</code> is not a top-level update, so the code doesn't check if the
update is a top-level unmount.</li>
<li>the priority level is lower (<code>LowPriority</code>).</li>
</ul>
<p>   The new update is being inserted to the fiber's update queue according to the
priority level - so most likely it will get added to the end of the queue.</p>
<h3>4. Schedule update work to be done with the determined priority level.</h3>
<p>   As I've mentioned before, this logic is generic across all the flows - so
nothing changes here in terms of walking the tree. To reiterate, Fiber walks
the <code>return</code> nodes starting from the node for which the update is being
scheduled until it reaches the root node (whose <code>return</code> is <code>null</code>). Along
the way, it bumps up the <code>pendingWorkPriority</code> of each node to the currently
given level if it's lower. In this case the level is <code>LowPriority</code> so it's
not likely for too many changes in the <code>pendingWorkPriority</code> values to occur.</p>
<p>   After reaching the root, Fiber schedules the update work - due to
<code>LowPriority</code> it's scheduled with <code>requestIdleCallback</code>.
That brings us to the end of the <code>setState</code> flow.
The logic exits and when time comes, the work phase begins.</p>
<p><a id="org13b502a"></a></p>
<h2>Doing the work: show me the money</h2>
<blockquote>
<p>Ahh, you're here. Good. We've got a problem. A big one.</p>
<p> <cite>The Overseer, Vault 13</cite></p>
</blockquote>
<p>Well, not really. ;) Or not so much anymore at least, having asynchronous work
scheduling on our side!
That said though, you might want to take a breath/coffee/stretch before this one - this is the
meat and potatoes of Fiber and might get a bit dense.</p>
<p>The actual execution of the scheduled work is split up in 2 main phases:
render/reconciliation and commit.</p>
<p>Let's jump in.</p>
<p><a id="orga27f81c"></a></p>
<h3>Render / reconciliation.</h3>
<p>This phase happens within the fiber tree and thus can be interrupted.
No DOM interaction takes place here yet. This is one of the big wins and differentiating factors from the traditional
renderer.
As the code can rely on the <code>deadline</code> value provided by
<code>requestIdleCallback</code>, it can split the work in time to avoid busting UI frames.</p>
<p>During this phase, Fiber aggregates the updates building up a second,
<code>workInProgress</code> copy of the fiber tree, which is the <code>alternate</code> of the
<code>current</code> tree. The <code>current</code> tree is the one that is flushed to the DOM at
the given moment.</p>
<p>Each of the flows described previously stopped at the phase where the work
was to be executed immediately (for <code>SynchronousPriority</code>) or scheduled with
an async callback request function.</p>
<p>The function that is being called or scheduled at that point is <code>performWork</code>.
Its purpose is to catch and handle errors happening during the reconciliation of the
updates and building up the tree. It does it by running a <code>while</code> loop that
bails out in case of errors. Within this loop, the <code>workLoop</code> function
is being called.</p>
<p>We're here. The core of the nuclear reactor.</p>
<p><code>workLoop</code> finds a fiber to work on, which consists of looking through the
<code>scheduledRoot</code> list (that's where the top-level updates go, remember?) for
the highest priority root fiber.</p>
<p>Then, it checks whether a <code>deadline</code> exists and whether the current priority
of work is lower than <code>TaskPriority</code>, meaning that the execution of this work
must obey the time limitations of the current frame.
If there is no <code>deadline</code> or the priority is high enough then it runs a normal
<code>while</code> loop until it can find no more work to do.</p>
<p>If a <code>deadline</code> exists however (or the priority is low), then it runs a <code>while</code>
loop until there is work to be done and the <code>deadline</code> hasn't yet expired.
As long as that conditions hold, in terms of Fiber <strong>we are in a deferred batch</strong>.
(again, any bells ringing? <code>batchedUpdates</code> way back when I was describing <code>render</code>?)
<span class="underline">This is where the decision is being made to either carry on with processing the
fibers or to defer the processing to the next frame to avoid causing jank in the UI.</span></p>
<p>Here, the current unit of work is being <em>performed</em>.
Performing the work is a process consisting of two stages: <code>begin</code> and <code>complete</code>.</p>
<h4>Stage 1: beginning the work</h4>
<p>When the work is "being begun", the code checks whether the priority of
the work-in-progress fiber is high enough to be processed given the priority at
which work is currently supposed to be processed and bails out if it's not.</p>
<p>Beginning the work encompasses a lot of things, which I think are out of scope
since we're deep enough and they would take <strong>a lot</strong> of space to describe.
In short, what happens here depends on the work-in-progress fiber type, and is
handled by a big <code>switch</code> statement:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>workInProgress<span class="token punctuation">.</span>tag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> IndeterminateComponent<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">mountIndeterminateComponent</span><span class="token punctuation">(</span>
      current<span class="token punctuation">,</span>
      workInProgress<span class="token punctuation">,</span>
      priorityLevel<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> FunctionalComponent<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">updateFunctionalComponent</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> workInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> ClassComponent<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">updateClassComponent</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> workInProgress<span class="token punctuation">,</span> priorityLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> HostRoot<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">updateHostRoot</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> workInProgress<span class="token punctuation">,</span> priorityLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> HostComponent<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">updateHostComponent</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> workInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> HostText<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">updateHostText</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> workInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> CoroutineHandlerPhase<span class="token punctuation">:</span>
    <span class="token comment">// This is a restart. Reset the tag to the initial phase.</span>
    workInProgress<span class="token punctuation">.</span>tag <span class="token operator">=</span> CoroutineComponent<span class="token punctuation">;</span>
  <span class="token comment">// Intentionally fall through since this is now the same.</span>
  <span class="token keyword">case</span> CoroutineComponent<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">updateCoroutineComponent</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> workInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> YieldComponent<span class="token punctuation">:</span>
    <span class="token comment">// A yield component is just a placeholder, we can just run through the</span>
    <span class="token comment">// next one immediately.</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> HostPortal<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">updatePortalComponent</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> workInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> Fragment<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">updateFragment</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> workInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span>
    <span class="token function">invariant</span><span class="token punctuation">(</span>
      <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string">'Unknown unit of work tag. This error is likely caused by a bug in '</span> <span class="token operator">+</span>
        <span class="token string">'React. Please file an issue.'</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>The following, however, is crucial:</p>
<ul>
<li>Those <code>update</code> functions merge component states with the <code>pendingState</code> values
and memoize them, update children's props and perform reconciliation on subtrees.</li>
<li>Each change performed on the node's subtree causes it to be tagged with a
specific <strong>effect tag</strong>, meaning that a side-effect shall be executed on it.
You can refer to the glossary to see all the effect tags - in this phase, the
only tags that are being used are <code>ContentReset</code>, <code>Err</code>, <code>Placement</code> and <code>Ref</code>.</li>
<li>The <code>update</code> functions return return <code>null</code> if the element is a leaf of the
fiber tree, or return the child fiber if it has one. When they return the
child fiber, we say that the <strong>beginning the work on this fiber has spawned new work</strong>.</li>
</ul>
<p>If beginning the work on a fiber hasn's spawned any new work, a function is
called that starts <em>completing the work</em> (stage 2) on the the work-in-progress fiber.
If new work has been spawned, control is returned to <code>workLoop</code>.
It marks this new work as the <code>nextUnitOfWork</code> to be processed in the next
turn of the time-constraining <code>while</code> loop.
<span class="underline">This is how the decision is being made to either carry on with processing the
fibers or to defer the processing to the next frame to avoid causing jank in the UI.</span></p>
<h4>Stage 2: completing the work</h4>
<p>When beginning a unit of work hasn't spawned any new work, we are at a leaf of
the fiber tree. In this case the code will complete the work for the current
branch.
Completing the work operates in a <code>while</code> loop that stops upon
finding a <code>sibling</code> fiber (which gets returned to <code>workLoop</code>) or reaching the
root of the tree (which prompts the <em>commit phase</em>).
The process consists of 4 steps:</p>
<ol>
<li>
<p><strong>Reset the fiber's priority.</strong></p>
</li>
<li>
<p><strong>Set update information.</strong></p>
<p>Depending on the type of fiber being completed it may mean:</p>
<ul>
<li>setting the new <code>context</code> on the root fiber,</li>
<li>adding an <code>Update</code> tag to the fiber's <code>effectTag</code>, calculating the update payload
(i.e. new props) and adding it to the fiber's <code>updateQueue</code>,</li>
<li>adding a <code>Ref</code> tag to the fiber's <code>effectTag</code> if a <code>ref</code> was defined on the
component.</li>
</ul>
</li>
<li>
<p><strong>Build up the effect lists up the fiber branch.</strong></p>
<p>If the work-in-progress fiber has a <code>return</code> fiber and an <code>effectTag</code> value
different than <code>NoEffect</code>, it will first append all the side effects from its
effect list to the <code>return</code> fiber's list and then append itself to it.
The result is that each fiber's effect list is an ordered collection
of its child subtree's side effects, ended by its own. It's ordered by the
completion order of the children.</p>
</li>
<li>
<p><strong>Traverse the tree further.</strong></p>
<p>If the work-in-progress fiber has a <code>sibling</code> fiber, it is returned to the
<code>workLoop</code> to make a decision whether to start processing it in this frame or
to defer it to the next one.
<span class="underline">A <code>sibling</code> fiber is the result of returning an array of elements from a
<code>render</code> function, that's one of the new features in Fiber.</span></p>
<p>If there is no <code>sibling</code>, but a <code>return</code> fiber exists, then it is set to be
processed in the next turn of the completion stage's <code>while</code> loop.</p>
<p>If the work-in-progress fiber doesn't have a <code>return</code> or a <code>sibling</code> fiber,
it means that we have reached the root of the fiber tree.</p>
<p>If the <code>nextPriorityLevel</code> is <code>SynchronousPriority</code> or <code>TaskPriority</code>, it
means that the work that has just been completed is related to a scheduled
root and also that it has not been scheduled with an async callback request.
In that case, the code immediately begins the commit phase by calling
<code>commitAllWork(workInProgress)</code>.
Otherwise, when the priority is lower (i.e. work belongs to a
deferred batch), the work-in-progress is being set as a <code>pendingCommit</code>. The
<code>workLoop</code> will decide when to commit the work in the <code>pendingCommit</code> based
on how much time is left in the frame.</p>
</li>
</ol>
<p>That's it for this stage. The result of completing a unit of work (fiber) is
either entering the commit phase immediately or having a non-null <code>pendingBatch</code>.</p>
<p>The commit phase will be described in the next chapter.</p>
<p>I'll close off the render/reconciliation phase description by pointing out that the
<code>workLoop</code> checks for the existence of a <code>pendingBatch</code> and if there is enough
time within the current frame, it calls <code>commitAllWork(pendingBatch)</code>, thus
entering the commit phase.</p>
<p><a id="org2ca3fb6"></a></p>
<h3>Commit</h3>
<p>This is where the contents of the work-in-progress fiber tree get flushed to the
DOM - in other words, this is when all the side effects from the fiber tree get executed.
This phase is not designed to be interruptible, since otherwise it would open up
possibilities for inconsistent "in-between" UI states.
It is being achieved by setting a priority level <code>TaskPriority</code> for the whole
time of the phase.
The previous priority level is being stowed away as <code>previousPriorityContext</code>.</p>
<p>The entry point for committing the work is the <code>commitAllWork</code> function.</p>
<p>Before starting going through the effect list of the fiber tree, it checks if
the root fiber has an <code>effectTag</code> on it too.
<em>(This is because during the completion phase, the <code>effectTag</code> was being added to the
<code>return</code> fiber's effect list.
There is no <code>return</code> fiber for the root of the tree, hence it is done here afterwards.)</em></p>
<p>The commit process consists of two passes through the whole effect list of the fiber tree.</p>
<p>The first pass does DOM manipulation (placement, updates, deletions) using the
injected renderer and unmounts <code>ref</code> functions.</p>
<p>After the first pass, Fiber swaps the work-in-progress tree with the <code>current</code>
one. That's because the work-in-progress one just got flushed to the DOM, so
conceptually it became the <code>current</code>.</p>
<p>The second pass calls lifecycle hooks, <code>setState</code> callbacks, <code>ref</code> callbacks
and component-level error handling methods (new feature in Fiber!).</p>
<p>After the second pass (and some housekeeping), the priority level from before
the commit ie restored from <code>previousPriorityContext</code>.</p>
<p><a id="org3c31b83"></a></p>
<h2>That's all, folks!</h2>
<p>With sufficient squinting and skipping over ancillary details, we have drilled
through the main features of React Fiber, from the first client <code>render</code> call, down to
the nitty-gritty of scheduling and splitting the work into phases.</p>
<p>If you didn't have the Fiber codebase handy while reading this, it might be
interesting for you to go grab it and read through this post again - this time
tracking your steps through the code. You'll see that even though there is quite
a few cogs in the machine of Fiber, it is way less complicated than you'd expect.</p>
<p>If you see any mistakes or omissions, feel free to point them out!
I'll amend the post.</p>
<p>I did my best to skip over aspects that were not key to the main responsibility
of Fiber.
But a few of them are very interesting in themselves, or are used in an
interesting way, for example:</p>
<ul>
<li>Component-level error handling, error boundaries</li>
<li>The use of object pooling</li>
<li>Dependency injection</li>
</ul>
<p>There might be another post coming, which will describe those things, so stay tuned!</p>
<p>And lastly, the obligatory wafting paragraph. It's good to <em>actually know</em> how
the tools you use every day work. Of course it's not always possible or sensible
to look at everything - but the perspective, sense of confidence and
satisfaction gained from this type of activity is significant.
You have to read a lot to become a great writer. I think programmers are no
different - and JavaScript fatigue, the state of Web development, Angular 4,
React 16 or Webpack 3 should not serve as an excuse to neglect this practice.</p>
<p>As craftspeople, we need to study the tools we use and other people's
craft we see around us to improve our own and perhaps eventually surpass it.</p>
<p><a id="org7cd8bdd"></a></p>
<h2>Glossary: types and constants</h2>
<p>Here are some important types and constants used in the Fiber codebase.
I'm not putting them at the top to allow you to jump right into the interesting
stuff without having to waddle through a bunch of things that don't make sense
out of context.</p>
<p><a id="org8c13c72"></a></p>
<h3>Update</h3>
<p>An <code>Update</code> looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code>type Update <span class="token operator">=</span> <span class="token punctuation">{</span>
  priorityLevel<span class="token punctuation">:</span> PriorityLevel<span class="token punctuation">,</span>
  partialState<span class="token punctuation">:</span> PartialState<span class="token operator">&lt;</span>any<span class="token punctuation">,</span> any<span class="token operator">></span><span class="token punctuation">,</span>
  callback<span class="token punctuation">:</span> Callback <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  isReplace<span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
  isForced<span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
  isTopLevelUnmount<span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
  next<span class="token punctuation">:</span> Update <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Where <code>PartialState</code> is what you pass into <code>setState</code>: either an object or a
<code>(prevState, props) => partialState</code> function.</p>
<p><a id="org4c0e3af"></a></p>
<h3>Update queue</h3>
<p>A fiber's update queue looks like this:</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code><span class="token keyword">export</span> type UpdateQueue <span class="token operator">=</span> <span class="token punctuation">{</span>
  first<span class="token punctuation">:</span> Update <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  last<span class="token punctuation">:</span> Update <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  hasForceUpdate<span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
  callbackList<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token operator">|</span> Array<span class="token operator">&lt;</span>Callback<span class="token operator">></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>The <code>callbackList</code> holds the <code>callback</code> values you passed in to
<code>setState(stateUpdater, [callback])</code>, if any.</p>
<p><a id="orgdd96006"></a></p>
<h3>Priority levels</h3>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code>type PriorityLevel <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">4</span> <span class="token operator">|</span> <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">6</span><span class="token punctuation">;</span>

NoWork<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// No work is pending.</span>
SynchronousPriority<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// For controlled text inputs. Synchronous side-effects.</span>
TaskPriority<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// Completes at the end of the current tick.</span>
AnimationPriority<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// Needs to complete before the next frame.</span>
HighPriority<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// Interaction that needs to complete pretty soon to feel responsive.</span>
LowPriority<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// Data fetching, or result from updating stores.</span>
OffscreenPriority<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token comment">// Won't be visible but do the work in case it becomes visible.</span>
</code></pre>
      </div>
<p>When Fiber schedules work, <code>SynchronousWork</code> is scheduled immediately on the UI
thread, <code>AnimationPriority</code> is scheduled with <code>requestAnimationFrame</code> and the
lower priorities with <code>requestIdleCallback</code>.</p>
<p>Whenever "higher/highest priority level" is being mentioned, there is always an asterisk: "except
for <code>NoWork</code>".
The code always checks for that priority level separately.</p>
<p><a id="org4ecef3c"></a></p>
<h3>Side effect tags (types of side effects)</h3>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code>type TypeOfSideEffect <span class="token operator">=</span> number

NoEffect<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//           0b0000000</span>
Placement<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//          0b0000001</span>
Update<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//             0b0000010</span>
PlacementAndUpdate<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 0b0000011</span>
Deletion<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">//           0b0000100</span>
ContentReset<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">//       0b0001000</span>
Callback<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token comment">//          0b0010000</span>
Err<span class="token punctuation">:</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token comment">//               0b0100000</span>
Ref<span class="token punctuation">:</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token comment">//               0b1000000</span>
</code></pre>
      </div>
<p>Having the tags defined like this allows using the binary operations in a handy
way. (I mean adding new tags by <code>effectTag |= Placement</code>, removing them
with <code>effectTag &#x26;= ~Placement</code> etc.)</p>
<p><a id="orgdd07bda"></a></p>
<h3>Fiber vs fiber</h3>
<p>Whenever I refer to Fiber with a capital F, I mean React Fiber, the new reconciler.
Whenever I refer to a fiber with a lowercase f, I mean the data structure
representing the basic unit of work related to a React component.
The data structure like this (I'm leaving most of Facebook's comments as
they're very good):</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code>type Fiber <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// These fields conceptually belong to an instance of the component</span>
  <span class="token comment">// this fiber is related to.</span>

  <span class="token comment">// Tag identifying the type of fiber.</span>
  tag<span class="token punctuation">:</span> TypeOfWork<span class="token punctuation">,</span>

  <span class="token comment">// Unique identifier of this child.</span>
  key<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token operator">|</span> string<span class="token punctuation">,</span>

  <span class="token comment">// The function/class/module associated with this fiber.</span>
  type<span class="token punctuation">:</span> any<span class="token punctuation">,</span>

  <span class="token comment">// The local state associated with this fiber.</span>
  stateNode<span class="token punctuation">:</span> any<span class="token punctuation">,</span>

  <span class="token comment">// Remaining fields belong to Fiber</span>

  <span class="token comment">// The Fiber to return to after finishing processing this one.</span>
  <span class="token comment">// This is effectively the parent, but there can be multiple parents (two)</span>
  <span class="token comment">// so this is only the parent of the thing we're currently processing.</span>
  <span class="token comment">// It is conceptually the same as the return address of a stack frame.</span>
  <span class="token keyword">return</span><span class="token punctuation">:</span> Fiber <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

  <span class="token comment">// Singly Linked List Tree Structure.</span>
  child<span class="token punctuation">:</span> Fiber <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  sibling<span class="token punctuation">:</span> Fiber <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  index<span class="token punctuation">:</span> number<span class="token punctuation">,</span>

  <span class="token comment">// The ref last used to attach this node.</span>
  <span class="token comment">// I'll avoid adding an owner field for prod and model that as functions.</span>
  ref<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>handle<span class="token punctuation">:</span> mixed<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span>_stringRef<span class="token punctuation">:</span> <span class="token operator">?</span>string<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// Input is the data coming into process this fiber. Arguments. Props.</span>
  pendingProps<span class="token punctuation">:</span> any<span class="token punctuation">,</span> <span class="token comment">// This type will be more specific once we overload the tag.</span>
  memoizedProps<span class="token punctuation">:</span> any<span class="token punctuation">,</span> <span class="token comment">// The props used to create the output.</span>

  <span class="token comment">// A queue of state updates and callbacks.</span>
  updateQueue<span class="token punctuation">:</span> UpdateQueue <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

  <span class="token comment">// The state used to create the output</span>
  memoizedState<span class="token punctuation">:</span> any<span class="token punctuation">,</span>

  <span class="token comment">// Bitfield that describes properties about the fiber and its subtree. E.g.</span>
  <span class="token comment">// the AsyncUpdates flag indicates whether the subtree should be async-by-</span>
  <span class="token comment">// default. When a fiber is created, it inherits the internalContextTag of its</span>
  <span class="token comment">// parent. Additional flags can be set at creation time, but after than the</span>
  <span class="token comment">// value should remain unchanged throughout the fiber's lifetime, particularly</span>
  <span class="token comment">// before its child fibers are created.</span>
  internalContextTag<span class="token punctuation">:</span> TypeOfInternalContext<span class="token punctuation">,</span>

  <span class="token comment">// Effect</span>
  effectTag<span class="token punctuation">:</span> TypeOfSideEffect<span class="token punctuation">,</span>

  <span class="token comment">// Singly linked list fast path to the next fiber with side-effects.</span>
  nextEffect<span class="token punctuation">:</span> Fiber <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

  <span class="token comment">// The first and last fiber with side-effect within this subtree. This allows</span>
  <span class="token comment">// us to reuse a slice of the linked list when we reuse the work done within</span>
  <span class="token comment">// this fiber.</span>
  firstEffect<span class="token punctuation">:</span> Fiber <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  lastEffect<span class="token punctuation">:</span> Fiber <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

  <span class="token comment">// This will be used to quickly determine if a subtree has no pending changes.</span>
  pendingWorkPriority<span class="token punctuation">:</span> PriorityLevel<span class="token punctuation">,</span>

  <span class="token comment">// This value represents the priority level that was last used to process this</span>
  <span class="token comment">// component. This indicates whether it is better to continue from the</span>
  <span class="token comment">// progressed work or if it is better to continue from the current state.</span>
  progressedPriority<span class="token punctuation">:</span> PriorityLevel<span class="token punctuation">,</span>

  <span class="token comment">// If work bails out on a Fiber that already had some work started at a lower</span>
  <span class="token comment">// priority, then we need to store the progressed work somewhere. This holds</span>
  <span class="token comment">// the started child set until we need to get back to working on it. It may</span>
  <span class="token comment">// or may not be the same as the "current" child.</span>
  progressedChild<span class="token punctuation">:</span> Fiber <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

  <span class="token comment">// When we reconcile children onto progressedChild it is possible that we have</span>
  <span class="token comment">// to delete some child fibers. We need to keep track of this side-effects so</span>
  <span class="token comment">// that if we continue later on, we have to include those effects. Deletions</span>
  <span class="token comment">// are added in the reverse order from sibling pointers.</span>
  progressedFirstDeletion<span class="token punctuation">:</span> Fiber <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  progressedLastDeletion<span class="token punctuation">:</span> Fiber <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

  <span class="token comment">// This is a pooled version of a Fiber. Every fiber that gets updated will</span>
  <span class="token comment">// eventually have a pair. There are cases when we can clean up pairs to save</span>
  <span class="token comment">// memory if we need to.</span>
  alternate<span class="token punctuation">:</span> Fiber <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

  <span class="token comment">// Conceptual aliases</span>
  <span class="token comment">// workInProgress : Fiber ->  alternate The alternate used for reuse happens</span>
  <span class="token comment">// to be the same as work in progress.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p><a id="orgab66cc2"></a></p></section><div class="sc-Rmtcm eCWKKV" data-reactid="34"></div></section></section></article></div><footer class="sc-hMqMXs gAfqEL" id="footer" data-reactid="35"><div class="sc-bxivhb gAGSrG" data-reactid="36"><div data-reactid="37"><div data-reactid="38"><div class="sc-jKJlTe kOOFmh" data-reactid="39"></div></div><div class="sc-gZMcBi DWwDi" data-reactid="40"><div class="sc-kEYyzF jOdmLg" data-reactid="41"><a target="blank" class="sc-kkGfuU htrdqe" href="https://www.facebook.com/wearemakersden/" data-reactid="42"><img class="sc-iAyFgw ilyugh" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmlld0JveD0iMCAwIDUwIDUwIgogICBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCA1MCIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnODk5IgogICBzb2RpcG9kaTpkb2NuYW1lPSJmYWNlYm9vay5zdmciCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuMiA1YzNlODBkLCAyMDE3LTA4LTA2Ij4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE5MDUiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM5MDMiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMjYyIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEzOTIiCiAgICAgaWQ9Im5hbWVkdmlldzkwMSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMjQuNzIiCiAgICAgaW5rc2NhcGU6Y3g9IjI1IgogICAgIGlua3NjYXBlOmN5PSIyNSIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMTIiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjEyIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ic3ZnODk5IiAvPgogIDxwYXRoCiAgICAgZD0iTTI2IDIwdi0zYzAtMS4zLjMtMiAyLjQtMkgzMXYtNWgtNGMtNSAwLTcgMy4zLTcgN3YzaC00djVoNHYxNWg2VjI1aDQuNGwuNi01aC01eiIKICAgICBpZD0icGF0aDg5NyIKICAgICBzdHlsZT0iZmlsbDojZjJmMmYyO2ZpbGwtb3BhY2l0eToxIiAvPgo8L3N2Zz4K" data-reactid="43"/></a><a target="blank" class="sc-kkGfuU htrdqe" href="https://twitter.com/makers_den" data-reactid="44"><img class="sc-iAyFgw ilyugh" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSI3NjhweCIKICAgaGVpZ2h0PSI3NjhweCIKICAgdmlld0JveD0iMCAwIDc2OCA3NjgiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzkxOSIKICAgc29kaXBvZGk6ZG9jbmFtZT0idHdpdHRlci5zdmciCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuMiA1YzNlODBkLCAyMDE3LTA4LTA2Ij4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE5MjMiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTI2MiIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMzkyIgogICAgIGlkPSJuYW1lZHZpZXc5MjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjAuNjE0NTgzMzMiCiAgICAgaW5rc2NhcGU6Y3g9IjIxNi41NTI0NyIKICAgICBpbmtzY2FwZTpjeT0iMTY5LjA4NDg2IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxMjg2IgogICAgIGlua3NjYXBlOndpbmRvdy15PSIxMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9IlBhZ2UtMSIgLz4KICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuNC40ICgxNzI0OCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgPHRpdGxlCiAgICAgaWQ9InRpdGxlOTA3Ij5BcnRib2FyZCAxPC90aXRsZT4KICA8ZGVzYwogICAgIGlkPSJkZXNjOTA5Ij5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICA8ZGVmcwogICAgIGlkPSJkZWZzOTExIiAvPgogIDxnCiAgICAgaWQ9IlBhZ2UtMSIKICAgICBzdHJva2U9Im5vbmUiCiAgICAgc3Ryb2tlLXdpZHRoPSIxIgogICAgIGZpbGw9Im5vbmUiCiAgICAgZmlsbC1ydWxlPSJldmVub2RkIgogICAgIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgPGcKICAgICAgIGlkPSJBcnRib2FyZC0xIgogICAgICAgc2tldGNoOnR5cGU9Ik1TQXJ0Ym9hcmRHcm91cCIKICAgICAgIHN0eWxlPSJmaWxsOiNmMmYyZjI7ZmlsbC1vcGFjaXR5OjEiPgogICAgICA8ZwogICAgICAgICBpZD0idHdpdHRlci0yIgogICAgICAgICBza2V0Y2g6dHlwZT0iTVNMYXllckdyb3VwIgogICAgICAgICBzdHlsZT0iZmlsbDojZjJmMmYyO2ZpbGwtb3BhY2l0eToxIj4KICAgICAgICA8ZwogICAgICAgICAgIGlkPSJHcm91cCIKICAgICAgICAgICBzdHlsZT0iZmlsbDojZjJmMmYyO2ZpbGwtb3BhY2l0eToxIj4KICAgICAgICAgIDxnCiAgICAgICAgICAgICBpZD0iaWNvbW9vbi1pZ25vcmUiCiAgICAgICAgICAgICBzdHlsZT0iZmlsbDojZjJmMmYyO2ZpbGwtb3BhY2l0eToxIiAvPgogICAgICAgICAgPHBhdGgKICAgICAgICAgICAgIGQ9Ik02NTEuNTEzLDE4OS45NDUgQzY4MS4xODMsMTcyLjE4NCA3MDMuOTMzLDE0NC4wNDYgNzE0LjY2MiwxMTAuNDg2IEM2ODYuOTExLDEyNi45NTIgNjU2LjE5LDEzOC45MDcgNjIzLjQ2NywxNDUuMzU3IEM1OTcuMjc5LDExNy40NTEgNTU5Ljk0OSwxMDAuMDAxIDUxOC42NDQsMTAwLjAwMSBDNDM5LjM0MywxMDAuMDAxIDM3NS4wNDMsMTY0LjI5NiAzNzUuMDQzLDI0My42MTggQzM3NS4wNDMsMjU0Ljg1NyAzNzYuMzA4LDI2NS44MTMgMzc4Ljc2NywyNzYuMzQzIEMyNTkuNDA3LDI3MC4zNDQgMTUzLjU3NiwyMTMuMTgxIDgyLjc0MywxMjYuMjkyIEM3MC4zNzksMTQ3LjQ5MSA2My4zMDQsMTcyLjE1OCA2My4zMDQsMTk4LjUwNCBDNjMuMzA0LDI0OC4zMjIgODguNjU1LDI5Mi4yODYgMTI3LjE4OSwzMTguMDM0IEMxMDMuNjU4LDMxNy4yODIgODEuNTA1LDMxMC44MTcgNjIuMTM4LDMwMC4wNTkgQzYyLjEyNCwzMDAuNjU1IDYyLjEyNCwzMDEuMjY3IDYyLjEyNCwzMDEuODc1IEM2Mi4xMjQsMzcxLjQ0NSAxMTEuNjI5LDQyOS40NzMgMTc3LjMzMyw0NDIuNjkyIEMxNjUuMjgyLDQ0NS45NiAxNTIuNTk2LDQ0Ny43MjUgMTM5LjQ5NSw0NDcuNzI1IEMxMzAuMjMyLDQ0Ny43MjUgMTIxLjIzMiw0NDYuODI5IDExMi40NjcsNDQ1LjE0IEMxMzAuNzU1LDUwMi4xOSAxODMuNzg1LDU0My43MjYgMjQ2LjYxOCw1NDQuODc0IEMxOTcuNDY3LDU4My4zOTUgMTM1LjU1OCw2MDYuMzYxIDY4LjI2Miw2MDYuMzYxIEM1Ni42ODEsNjA2LjM2MSA0NS4yNDMsNjA1LjY3OCAzNC4wMDIsNjA0LjM0MiBDOTcuNTc0LDY0NS4xMDggMTczLjA1NCw2NjguODY3IDI1NC4xNDksNjY4Ljg2NyBDNTE4LjMxNyw2NjguODY3IDY2Mi43NTcsNDUwLjA0IDY2Mi43NTcsMjYwLjI2IEM2NjIuNzU3LDI1NC4wMzQgNjYyLjYzLDI0Ny44MjcgNjYyLjM2MSwyNDEuNjYyIEM2OTAuNDA4LDIyMS40NTUgNzE0Ljc2MSwxOTYuMTUgNzM0LjAwMiwxNjcuMzQ2IEM3MDguMjY4LDE3OC43NzkgNjgwLjU3NCwxODYuNDk1IDY1MS41MTUsMTg5Ljk0OCBMNjUxLjUxMywxODkuOTQ1IFoiCiAgICAgICAgICAgICBpZD0iU2hhcGUiCiAgICAgICAgICAgICBmaWxsPSIjNTU1QjY4IgogICAgICAgICAgICAgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCIKICAgICAgICAgICAgIHN0eWxlPSJmaWxsOiNmMmYyZjI7ZmlsbC1vcGFjaXR5OjEiIC8+CiAgICAgICAgPC9nPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K" data-reactid="45"/></a></div><p class="sc-eHgmQL eUqphR" data-reactid="46">Germaniastr. 1, 12345 Berlin</p></div></div><!-- react-empty: 47 --></div></footer></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-7cb9824a840bdb5e61da.js","182246549230831":"component---src-templates-blog-post-template-js-91963a5ebc83d2729541.js","212839066777427":"component---src-pages-blog-js-ede79c350ab31d13f5f0.js","35783957827783":"component---src-pages-index-js-2f66157beb5691027365.js","60335399758886":"path----557518bd178906f8d58a.js","178628122002778":"path---blog-look-inside-fiber-2143c1ae8765bc70c5aa.js","49683490770531":"path---blog-7361a99cbfd0cd235c65.js","142629428675168":"path---index-83bef35d76744fd47c83.js","114276838955818":"component---src-layouts-index-js-ba2245e5aa333ad55c0d.js"}/*]]>*/</script><script>
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-86953911-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-86953911-1', 'auto');
  ga('set', 'anonymizeIp', 1);</script><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/commons-07c2af32ca21185d2521.js","/app-7cb9824a840bdb5e61da.js","/path---blog-look-inside-fiber-2143c1ae8765bc70c5aa.js","/component---src-templates-blog-post-template-js-91963a5ebc83d2729541.js","/component---src-layouts-index-js-ba2245e5aa333ad55c0d.js"])/*]]>*/</script></body></html>